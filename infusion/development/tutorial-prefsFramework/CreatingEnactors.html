<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Creating Enactors | Fluid Infusion</title>

        <link rel="stylesheet" href="../lib/foundation/normalize.css">
        <link rel="stylesheet" href="../lib/foundation/foundation.css">
        <link rel="stylesheet" href="../css/highlightjs-custom.css">
        <link rel="stylesheet" href="../lib/octicons/octicons.css">

        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/Enactors.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/PrefsEditor.css" />
        <link rel="stylesheet" type="text/css" href="../lib/infusion/src/framework/preferences/css/SeparatedPanelPrefsEditor.css" />
        <link rel="stylesheet" href="../css/infusion-docs.css">

        <link rel="icon" type="image/png" href="../images/favico.png">

        <script type="text/javascript" src="../lib/infusion/dist/infusion-all.js"></script>
        <script type="text/javascript" src="../js/infusion-docs.js"></script>

        <script type="text/javascript" src="../lib/gpii-express/querystring-coding.js"></script>
        <script type="text/javascript" src="../lib/gpii-binder/transforms.js"></script>
        <script type="text/javascript" src="../lib/gpii-binder/binder.js"></script>

        
            <script type="text/javascript" src="../js/mini-search.js"></script>
        
    </head>
    <body class="infusion-docs fl-theme-prefsEditor-default">
        <div class="container infusion-docs-container">

            <!-- Skip Link -->
            <div id="skip">
                <a href="#tableOfContents">Jump to Table of Contents</a>
                <a href="#content">Skip to Content</a>
            </div>
            <!-- END skip link -->

            <!-- BEGIN markup for Preference Editor -->
            <div class="flc-prefsEditor-separatedPanel fl-prefsEditor-separatedPanel">
                <!-- This is the div that will contain the Preference Editor component -->
                <div class="flc-slidingPanel-panel flc-prefsEditor-iframe"></div>

                <!-- This div is for the sliding panel that shows and hides the Preference Editor controls -->
                <div class="fl-panelBar">
                    <span class="fl-prefsEditor-buttons">
                        <button id="reset" class="flc-prefsEditor-reset fl-prefsEditor-reset"><span class="fl-icon-undo"></span> Reset</button>
                        <button id="show-hide" class="flc-slidingPanel-toggleButton fl-prefsEditor-showHide">+ Show Display Preferences</button>
                    </span>
                </div>
            </div>

            <script type="text/javascript">
                fluid.uiOptions.prefsEditor(".flc-prefsEditor-separatedPanel", {
                    terms: {
                        "templatePrefix": "../lib/infusion/src/framework/preferences/html",
                        "messagePrefix": "../lib/infusion/src/framework/preferences/messages"
                    },
                    "tocTemplate": "../lib/infusion/TableOfContents.html"
                });
            </script>

            <!-- END markup for Preference Editor -->

            <header class="row infusion-docs-header">
                <div class="infusion-docs-fluidLogo small-12 medium-3 column">
                    <a class="infusion-docs-fluidLogoText" href="../index.html" title="Infusion">infusion</a>
                </div>

                <nav class="infusion-docs-fluidCategories small-12 medium-9 column">
                    
                    
                        
                            <a href="../index.html" title="Infusion">Infusion</a>
                        
                    
                        
                            <a href="../index-tutorials.html" title="Tutorials" class="infusion-docs-category-active">Tutorials</a>
                        
                    
                        
                            <a href="../index-components.html" title="Components">Components</a>
                        
                    
                        
                            <a href="../search.html" title="Search">Search</a>
                        
                    
                </nav>
            </header>

            <div class="infusion-docs-mainBody">
                <nav id="tableOfContents" class="infusion-docs-TOC small-12 medium-3 column" tabindex="-1">
                    
                        <span class="infusion-docs-category">Search</span>
                        <p class="docs-search-mini"><input type="text" name="qs"/></p>

                        
                        
                            
                        
                        
                            
                                <span class="infusion-docs-category">Tutorials</span>
                                
                                    <span class="infusion-docs-sectionName">Developer Introduction to the Infusion Framework</span>
                                    <ul>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-OpeningRemarks.html"><span class="infusion-docs-TOC-pageName">Opening Remarks</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-Components.html"><span class="infusion-docs-TOC-pageName">Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-Invokers.html"><span class="infusion-docs-TOC-pageName">Invokers</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-EventsAndInversionOfControl.html"><span class="infusion-docs-TOC-pageName">Events and Inversion of Control</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ModelsAndModelComponents.html"><span class="infusion-docs-TOC-pageName">Models and Model Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ViewsAndViewComponents.html"><span class="infusion-docs-TOC-pageName">Views and View Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-SubcomponentsAndModelRelaying.html"><span class="infusion-docs-TOC-pageName">Subcomponents and Model Relaying</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-RestructuringComponents.html"><span class="infusion-docs-TOC-pageName">Restructuring Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-OverridingInvokersAndRefactoring.html"><span class="infusion-docs-TOC-pageName">Overriding Invokers and Refactoring</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ExtendingDesignsWithExistingComponents.html"><span class="infusion-docs-TOC-pageName">Extending Designs with Existing Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-TransformingModelRelays.html"><span class="infusion-docs-TOC-pageName">Transforming Model Relays</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-developerIntroduction/DeveloperIntroductionToInfusionFramework-ConcludingRemarks.html"><span class="infusion-docs-TOC-pageName">Concluding Remarks</span></a>
                                                
                                            </li>
                                        
                                    </ul>
                                
                                    <span class="infusion-docs-sectionName">Getting Started with Infusion Component Design</span>
                                    <ul>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/GettingStartedWithInfusion.html"><span class="infusion-docs-TOC-pageName">Getting Started with Infusion Component Design</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/SetUpYourEnvironment.html"><span class="infusion-docs-TOC-pageName">Set up your environment</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/DefineANamespaceAndCreateAClosure.html"><span class="infusion-docs-TOC-pageName">Define a namespace and create a closure</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/PickAComponentType.html"><span class="infusion-docs-TOC-pageName">Pick a component type</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/BasicComponentCreation-Components.html"><span class="infusion-docs-TOC-pageName">Basic Component Creation</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/ModelComponents.html"><span class="infusion-docs-TOC-pageName">Model Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/ViewComponents.html"><span class="infusion-docs-TOC-pageName">View Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/RendererComponents.html"><span class="infusion-docs-TOC-pageName">Renderer Components</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-gettingStartedWithInfusion/Subcomponents.html"><span class="infusion-docs-TOC-pageName">Subcomponents</span></a>
                                                
                                            </li>
                                        
                                    </ul>
                                
                                    <span class="infusion-docs-sectionName">General</span>
                                    <ul>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-usingStringTemplates/UsingStringTemplates.html"><span class="infusion-docs-TOC-pageName">Using String Templates</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-iconFonts/HowToCreateAndUseFontIcons.html"><span class="infusion-docs-TOC-pageName">How to Create and Use Font Icons</span></a>
                                                
                                            </li>
                                        
                                    </ul>
                                
                                    <span class="infusion-docs-sectionName">Preferences Framework</span>
                                    <ul>
                                        
                                            <li>
                                                
                                                    <a href="CreatingAPrefsEditor.html"><span class="infusion-docs-TOC-pageName">Creating a Preference Editor</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <span class="infusion-docs-TOC-pageName">Creating Enactors</span>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="InstantiatingTheEnhancerAndSettingsStoreOnly.html"><span class="infusion-docs-TOC-pageName">Instantiating the Enhancer and Settings Store Only</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="StylingThePreferencesEditor.html"><span class="infusion-docs-TOC-pageName">Styling the Preferences Editor</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../to-do/AddingPrefsEditorToSite.html"><span class="infusion-docs-TOC-pageName">Adding a Basic Preferences Editor to a Site</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../to-do/WorkingWithPrefsEditorOnSite.html"><span class="infusion-docs-TOC-pageName">Working With A Preferences Editor On Your Site</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="CreatingANewAdjusterUI.html"><span class="infusion-docs-TOC-pageName">Creating a New Adjuster UI</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-prefsFrameworkMinimalFootprint/MinimalFootprint.html"><span class="infusion-docs-TOC-pageName">Minimal Footprint</span></a>
                                                
                                            </li>
                                        
                                    </ul>
                                
                                    <span class="infusion-docs-sectionName">User Interface Options</span>
                                    <ul>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-userInterfaceOptions/UserInterfaceOptions.html"><span class="infusion-docs-TOC-pageName">Setting Up User Interface Options</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-userInterfaceOptions/WorkingWithUserInterfaceOptions.html"><span class="infusion-docs-TOC-pageName">Working with User Interface Options</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-userInterfaceOptions/UsingImagesInContrastModes.html"><span class="infusion-docs-TOC-pageName">Using Images in Contrast Modes</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-userInterfaceOptions/StyleEffectsAndLegibilityInContrastModes.html"><span class="infusion-docs-TOC-pageName">Style Effects and Legibility in Contrast Modes</span></a>
                                                
                                            </li>
                                        
                                            <li>
                                                
                                                    <a href="../tutorial-userInterfaceOptions/ContentPropertyHighContrast.html"><span class="infusion-docs-TOC-pageName">CSS &#x27;Content&#x27; Property in Contrast Modes</span></a>
                                                
                                            </li>
                                        
                                    </ul>
                                
                            
                        
                        
                            
                        
                        
                            
                        
                    
                </nav>

                <article id="content" class="infusion-docs-mainContent small-12 medium-9 column" tabindex="-1">
                    <div class="infusion-docs-articleContainer">

                        <div class="flc-toc-tocContainer infusion-docs-toc"> </div>

                        <h1>Creating Enactors</h1>

                        <p class="infusion-docs-githubLink"><a href="https://github.com/fluid-project/infusion-docs/blob/master/src/documents/tutorial-prefsFramework/CreatingEnactors.md" target="_blank">Edit on GitHub</a></p>

                        

                        <div class="infusion-docs-articleBody">
                            
                                <p>This article describes how to use the Infusion <a href="../PreferencesFramework.html">Preferences Framework</a>
to create Enactors, components that act in response to changes to a user's preferences.</p>
<h2 id="overview">Overview</h2>
<p>In the <a href="../PreferencesFramework.html">Preferences Framework</a>, &quot;Enactors&quot; are Infusion
<a href="../UnderstandingInfusionComponents.html">components</a> that act upon changes to user preferences.</p>
<p>The configuration information used to define an enactor must include certain required information:</p>
<ul>
<li>the <code>fluid.prefs.enactor</code> <a href="../ComponentGrades.html">grade</a> (provided by the Framework)</li>
<li>a Preference Map (see <a href="#preferencemap">below</a>)</li>
<li>a renderer <a href="../RendererComponentTrees.html">proto-tree</a> or <code>produceTree</code> function</li>
<li>selectors for rendering the controls, labels, etc</li>
<li>any other information required by the enactor</li>
</ul>
<p>If the enactor will be modifying the view of the interface, you will also want to add the <code>fluid.viewComponent</code> grade as
well as selectors.</p>
<h2 id="preferencemap">PreferenceMap</h2>
<p>Each enactor defines a &quot;preference map,&quot; which map the information in the <a href="../PrimarySchemaForPreferencesFramework.html">Primary
Schema</a> into your enactor. The preference map is used to copy the default
preference value from the primary schema into the enactor's model. It can also be used to copy any other necessary
information from the primary schema into the enactor, if relevant. The values can be mapped to any path in the Panels
options, and then they can be accessed through those paths.</p>
<h3 id="format">Format</h3>
<pre class="highlight"><code class="hljs json">{
    <span class="hljs-attr">"preferenceMap"</span>: {
        <span class="hljs-attr">"&lt;key of preference from primary schema&gt;"</span>: {
            <span class="hljs-attr">"&lt;path in enactor's options where value should be held&gt;"</span>: <span class="hljs-string">"&lt;key in primary schema where value held&gt;"</span>
            <span class="hljs-comment">// ...</span>
        }
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h3 id="examples">Examples</h3>
<pre class="highlight"><code class="hljs javascript">fluid.defaults(<span class="hljs-string">"fluid.prefs.enactor.textSize"</span>, {
    <span class="hljs-attr">gradeNames</span>: [<span class="hljs-string">"fluid.prefs.panel"</span>],
    <span class="hljs-attr">preferenceMap</span>: {
        <span class="hljs-string">"fluid.prefs.textSize"</span>: {
            <span class="hljs-string">"model.value"</span>: <span class="hljs-string">"default"</span>
        }
    }
    <span class="hljs-comment">// ...</span>
});
</code></pre>
<pre class="highlight"><code class="hljs javascript">fluid.defaults(<span class="hljs-string">"fluid.prefs.enactor.emphasizeLinks"</span>, {
    <span class="hljs-attr">gradeNames</span>: [<span class="hljs-string">"fluid.viewComponent"</span>, <span class="hljs-string">"fluid.prefs.enactor.styleElements"</span>],
    <span class="hljs-attr">preferenceMap</span>: {
        <span class="hljs-string">"fluid.prefs.emphasizeLinks"</span>: {
            <span class="hljs-string">"model.value"</span>: <span class="hljs-string">"default"</span>
        }
    }
    <span class="hljs-comment">// ...</span>
});
</code></pre>
<pre class="highlight"><code class="hljs javascript">fluid.defaults(<span class="hljs-string">"fluid.videoPlayer.panels.captionsSettings"</span>, {
    <span class="hljs-attr">gradeNames</span>: [<span class="hljs-string">"fluid.videoPlayer.panels.mediaSettings"</span>],
    <span class="hljs-attr">preferenceMap</span>: {
        <span class="hljs-string">"fluid.videoPlayer.displayCaptions"</span>: {
            <span class="hljs-string">"model.show"</span>: <span class="hljs-string">"default"</span>
        },
        <span class="hljs-string">"fluid.videoPlayer.captionLanguage"</span>: {
            <span class="hljs-string">"model.language"</span>: <span class="hljs-string">"default"</span>
        }
    }
    <span class="hljs-comment">// ...</span>
});
</code></pre>
<h2 id="binding-to-model-changes">Binding to Model Changes</h2>
<p>The most important thing that an enactor does is listen for changes to its model and act when changes occur. The
<a href="../PreferencesFramework.html">Preferences Framework</a> automatically binds the enactor's model to the user's preferences
through the Preferences Map (described above). This means that if the user's preference changes (for example, through
the preferences editor), the enactor's model will automatically be updated and a <code>modelChanged</code> event will be fired. All
the enactor has to do is listen for that <code>modelChanged</code> event and carry out whatever adjustments are necessary. (For
more information about model changes, see <a href="../ChangeApplierAPI.html">ChangeApplier API</a>; for more information about the
events and listeners in general, see <a href="../InfusionEventSystem.html">Infusion Event System</a>).</p>
<p><code>modelChanged</code> event listeners are bound in a special block of a component's defaults called <code>modelListeners</code>. The
general format is shown below:</p>
<pre class="highlight"><code class="hljs shell">modelListeners: {
    &lt;modelpath&gt;: {
        funcName: &lt;listener name&gt;,
        args: [&lt;argument list&gt;]
    }
}
</code></pre>
<p>In the argument list of a model listener, the <code>change</code> object is the original change request, which can be used to
access the new model value:</p>
<pre class="highlight"><code class="hljs shell">{
    path: [&lt;model paths&gt;],
    value: &lt;new value&gt;,
    oldValue: &lt;old value&gt;
}
</code></pre>
<p>In the following example, an enactor function acts upon a new magnification value:</p>
<pre class="highlight"><code class="hljs javascript">gpii.pmt.enactors.magnification.magnify = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">that, newModel</span>) </span>{
    that.magnify(newModel.value);
};

fluid.defaults(<span class="hljs-string">"gpii.pmt.enactors.magnification"</span>, {
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">modelListeners</span>: {
        <span class="hljs-string">"magnificationFactor"</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"gpii.pmt.enactors.magnification.magnify"</span>,
            <span class="hljs-attr">args</span>: [<span class="hljs-string">"{that}"</span>, <span class="hljs-string">"{change}.value"</span>]
        }
    }
});
</code></pre>
<h2 id="acting-on-model-changes">Acting on model changes</h2>
<p>The actions that an enactor will take will be entirely dependent on what the enactor is for. It is up to the developer
to create the necessary functions, etc. required.</p>
<h2 id="example-line-spacing-enactor">Example: Line Spacing Enactor</h2>
<pre class="highlight"><code class="hljs javascript">fluid.defaults(<span class="hljs-string">"fluid.prefs.enactor.lineSpace"</span>, {
    <span class="hljs-attr">gradeNames</span>: [<span class="hljs-string">"fluid.viewComponent"</span>, <span class="hljs-string">"fluid.prefs.enactor"</span>],
    <span class="hljs-attr">preferenceMap</span>: {
        <span class="hljs-string">"fluid.prefs.lineSpace"</span>: {
            <span class="hljs-string">"model.value"</span>: <span class="hljs-string">"default"</span>
        }
    },
    <span class="hljs-attr">fontSizeMap</span>: {},  <span class="hljs-comment">// must be supplied by implementors</span>
    <span class="hljs-attr">invokers</span>: {
        <span class="hljs-attr">set</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"fluid.prefs.enactor.lineSpace.set"</span>,
            <span class="hljs-attr">args</span>: [<span class="hljs-string">"{arguments}.0"</span>, <span class="hljs-string">"{that}"</span>, <span class="hljs-string">"{that}.getLineHeightMultiplier"</span>]
        },
        <span class="hljs-attr">getTextSizeInPx</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"fluid.prefs.enactor.getTextSizeInPx"</span>,
            <span class="hljs-attr">args</span>: [<span class="hljs-string">"{that}.container"</span>, <span class="hljs-string">"{that}.options.fontSizeMap"</span>]
        },
        <span class="hljs-attr">getLineHeight</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"fluid.prefs.enactor.lineSpace.getLineHeight"</span>,
            <span class="hljs-attr">args</span>: <span class="hljs-string">"{that}.container"</span>
        },
        <span class="hljs-attr">getLineHeightMultiplier</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"fluid.prefs.enactor.lineSpace.getLineHeightMultiplier"</span>,
            <span class="hljs-attr">args</span>: [{<span class="hljs-attr">expander</span>: {<span class="hljs-attr">func</span>: <span class="hljs-string">"{that}.getLineHeight"</span>}}, {<span class="hljs-attr">expander</span>: {<span class="hljs-attr">func</span>: <span class="hljs-string">"{that}.getTextSizeInPx"</span>}}],
            <span class="hljs-attr">dynamic</span>: <span class="hljs-literal">true</span>
        }
    },
    <span class="hljs-attr">modelListeners</span>: {
        <span class="hljs-attr">value</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"{that}.set"</span>,
            <span class="hljs-attr">args</span>: [<span class="hljs-string">"{change}.value"</span>]
        }
    }
});

fluid.prefs.enactor.lineSpace.set = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">that, newValue</span>) </span>{
    that.set(newValue);
};
</code></pre>
<h2 id="example-table-of-contents-enactor">Example: Table of Contents Enactor</h2>
<pre class="highlight"><code class="hljs javascript">fluid.defaults(<span class="hljs-string">"fluid.prefs.enactor.tableOfContents"</span>, {
    <span class="hljs-attr">gradeNames</span>: [<span class="hljs-string">"fluid.viewComponent"</span>, <span class="hljs-string">"fluid.prefs.enactor"</span>],
    <span class="hljs-attr">preferenceMap</span>: {
        <span class="hljs-string">"fluid.prefs.tableOfContents"</span>: {
            <span class="hljs-string">"model.toc"</span>: <span class="hljs-string">"default"</span>
        }
    },
    <span class="hljs-attr">tocTemplate</span>: <span class="hljs-literal">null</span>,  <span class="hljs-comment">// must be supplied by implementors</span>
    <span class="hljs-attr">components</span>: {
        <span class="hljs-attr">tableOfContents</span>: {
            <span class="hljs-attr">type</span>: <span class="hljs-string">"fluid.tableOfContents"</span>,
            <span class="hljs-attr">container</span>: <span class="hljs-string">"{fluid.prefs.enactor.tableOfContents}.container"</span>,
            <span class="hljs-attr">createOnEvent</span>: <span class="hljs-string">"onCreateTOCReady"</span>,
            <span class="hljs-attr">options</span>: {
                <span class="hljs-attr">components</span>: {
                    <span class="hljs-attr">levels</span>: {
                        <span class="hljs-attr">type</span>: <span class="hljs-string">"fluid.tableOfContents.levels"</span>,
                        <span class="hljs-attr">options</span>: {
                            <span class="hljs-attr">resources</span>: {
                                <span class="hljs-attr">template</span>: {
                                    <span class="hljs-attr">forceCache</span>: <span class="hljs-literal">true</span>,
                                    <span class="hljs-attr">url</span>: <span class="hljs-string">"{fluid.prefs.enactor.tableOfContents}.options.tocTemplate"</span>
                                }
                            }
                        }
                    }
                },
                <span class="hljs-attr">listeners</span>: {
                    <span class="hljs-attr">afterRender</span>: <span class="hljs-string">"{fluid.prefs.enactor.tableOfContents}.events.afterTocRender"</span>
                }
            }
        }
    },
    <span class="hljs-attr">invokers</span>: {
        <span class="hljs-attr">applyToc</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"fluid.prefs.enactor.tableOfContents.applyToc"</span>,
            <span class="hljs-attr">args</span>: [<span class="hljs-string">"{arguments}.0"</span>, <span class="hljs-string">"{that}"</span>]
        }
    },
    <span class="hljs-attr">events</span>: {
        <span class="hljs-attr">onCreateTOCReady</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">afterTocRender</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-attr">onLateRefreshRelay</span>: <span class="hljs-literal">null</span>
    },
    <span class="hljs-attr">modelListeners</span>: {
        <span class="hljs-attr">toc</span>: {
            <span class="hljs-attr">funcName</span>: <span class="hljs-string">"{that}.applyToc"</span>,
            <span class="hljs-attr">args</span>: [<span class="hljs-string">"{change}.value"</span>]
        }
    }
});

fluid.prefs.enactor.tableOfContents.applyToc = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value, that</span>) </span>{
    <span class="hljs-keyword">if</span> (value) {
        <span class="hljs-keyword">if</span> (that.tableOfContents) {
            that.tableOfContents.show();
        } <span class="hljs-keyword">else</span> {
            that.events.onCreateTOCReady.fire();
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (that.tableOfContents) {
        that.tableOfContents.hide();
    }
};
</code></pre>

                            
                        </div>
                    </div>

                    <footer class="row infusion-docs-footer">
                        <p class="infusion-docs-footerInfusion">Infusion is created by the <a href="http://fluidproject.org/" target="_blank">Fluid Project</a>,<br/>
                        a project of the <a href="http://idrc.ocad.ca/" target="_blank">Inclusive Design Research Centre</a> at <a href="http://www.ocadu.ca/" target="_blank">OCAD University</a>, funded by a grant from <a href="http://www.mellon.org/" target="_blank">The Andrew W. Mellon Foundation</a>.</p>
                    </footer>

                </article>

            </div>


        </div> <!-- end container -->
        <script>
            fluid.docs.onLoad();
            
                fluid.docs.search.mini(".docs-search-mini")
            
    </script>

    </body>

</html>
